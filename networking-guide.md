# Networking –¥–ª—è DevOps —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤
## –ü–æ–≤–Ω–∏–π –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π –≥—ñ–¥

---

# –ó–º—ñ—Å—Ç

1. [–†–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ä–µ–∂](#1-—Ä–æ–∑—É–º—ñ–Ω–Ω—è-–º–µ—Ä–µ–∂)
2. [OSI –º–æ–¥–µ–ª—å / TCP –º–æ–¥–µ–ª—å](#2-osi-–º–æ–¥–µ–ª—å--tcp-–º–æ–¥–µ–ª—å)
3. [–†–æ–∑—É–º—ñ–Ω–Ω—è IP –ø—Ä–æ—Ç–æ–∫–æ–ª—É](#3-—Ä–æ–∑—É–º—ñ–Ω–Ω—è-ip-–ø—Ä–æ—Ç–æ–∫–æ–ª—É)
4. [–†–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤](#4-—Ä–æ–∑—É–º—ñ–Ω–Ω—è-–ø–æ—Ä—Ç—ñ–≤)
5. [–û—Å–Ω–æ–≤–∏ –º–µ—Ä–µ–∂–µ–≤–æ—ó –±–µ–∑–ø–µ–∫–∏](#5-–æ—Å–Ω–æ–≤–∏-–º–µ—Ä–µ–∂–µ–≤–æ—ó-–±–µ–∑–ø–µ–∫–∏)
6. [–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É](#6-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏-–¥–ª—è-–º–µ—Ä–µ–∂–µ–≤–æ–≥–æ-–º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É)
7. [–ë–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö –º—ñ–∂ —Å–µ—Ä–≤–µ—Ä–∞–º–∏](#7-–±–µ–∑–ø–µ—á–Ω–∞-–ø–µ—Ä–µ–¥–∞—á–∞-–¥–∞–Ω–∏—Ö-–º—ñ–∂-—Å–µ—Ä–≤–µ—Ä–∞–º–∏)
8. [DNS](#8-dns)
9. [HTTP –ø–æ–≥–ª–∏–±–ª–µ–Ω–µ –≤–∏–≤—á–µ–Ω–Ω—è](#9-http-–ø–æ–≥–ª–∏–±–ª–µ–Ω–µ-–≤–∏–≤—á–µ–Ω–Ω—è)

---

# 1. –†–æ–∑—É–º—ñ–Ω–Ω—è –º–µ—Ä–µ–∂

## 1.1 –©–æ —Ç–∞–∫–µ –º–µ—Ä–µ–∂–∞?

**–ú–µ—Ä–µ–∂–∞** - —Ü–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –¥–≤–æ—Ö –∞–±–æ –±—ñ–ª—å—à–µ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, —è–∫—ñ –º–æ–∂—É—Ç—å –æ–±–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –¥–∞–Ω–∏–º–∏.

**–û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
- –í—É–∑–ª–∏ (–∫–æ–º–ø'—é—Ç–µ—Ä–∏, —Å–µ—Ä–≤–µ—Ä–∏, –ø—Ä–∏–Ω—Ç–µ—Ä–∏)
- –ó'—î–¥–Ω–∞–Ω–Ω—è (–∫–∞–±–µ–ª—ñ, WiFi)
- –ü—Ä–æ—Ç–æ–∫–æ–ª–∏ (–ø—Ä–∞–≤–∏–ª–∞ –æ–±–º—ñ–Ω—É)
- –ú–µ—Ä–µ–∂–µ–≤–µ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è (—Ä–æ—É—Ç–µ—Ä–∏, –∫–æ–º—É—Ç–∞—Ç–æ—Ä–∏)

**–¢–∏–ø–∏ –∑–∞ —Ä–æ–∑–º—ñ—Ä–æ–º:**
- **PAN** - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ (Bluetooth)
- **LAN** - –õ–æ–∫–∞–ª—å–Ω–∞ (–æ—Ñ—ñ—Å, –¥—ñ–º)
- **MAN** - –ú—ñ—Å—å–∫–∞
- **WAN** - –ì–ª–æ–±–∞–ª—å–Ω–∞ (–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç)

## 1.2 –©–æ —Ç–∞–∫–µ –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç?

**–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç** - –≥–ª–æ–±–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞ –º–µ—Ä–µ–∂, —â–æ –∑'—î–¥–Ω—É—î –º—ñ–ª—å—è—Ä–¥–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ —á–µ—Ä–µ–∑ TCP/IP –ø—Ä–æ—Ç–æ–∫–æ–ª–∏.

**–ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó:**
- –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è
- Packet Switching
- ISP (–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏)
- Backbone (–≤–∏—Å–æ–∫–æ—à–≤–∏–¥–∫—ñ—Å–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è)

## 1.3 –ú–µ—Ä–µ–∂–µ–≤—ñ —Ç–æ–ø–æ–ª–æ–≥—ñ—ó

**Bus (–®–∏–Ω–∞):** –í—Å—ñ –¥–æ –æ–¥–Ω–æ–≥–æ –∫–∞–±–µ–ª—é
**Star (–ó—ñ—Ä–∫–∞):** –í—Å—ñ –¥–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–º—É—Ç–∞—Ç–æ—Ä–∞ ‚≠ê –ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∞
**Ring (–ö—ñ–ª—å—Ü–µ):** –ö–æ–ª–æ –∑'—î–¥–Ω–∞–Ω—å
**Mesh (–ü–æ–≤–Ω–æ–∑–≤'—è–∑–Ω–∞):** –ö–æ–∂–µ–Ω –∑ –∫–æ–∂–Ω–∏–º
**Hybrid:** –ö–æ–º–±—ñ–Ω–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤

**–î–æ–º–∞—à–Ω—è –º–µ—Ä–µ–∂–∞:**
```
Internet ‚Üí [Modem/Router] ‚Üí WiFi/Ethernet ‚Üí –ü—Ä–∏—Å—Ç—Ä–æ—ó
```

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è:**
```bash
ip addr show          # –ü–æ–∫–∞–∑–∞—Ç–∏ IP
nmap -sn 192.168.1.0/24  # –ó–Ω–∞–π—Ç–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó
traceroute google.com    # –®–ª—è—Ö –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
```

## 1.4 –ü—Ä–æ—Ç–æ–∫–æ–ª–∏

**IP** - –∞–¥—Ä–µ—Å–∞—Ü—ñ—è —Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è
**TCP** - –Ω–∞–¥—ñ–π–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ (HTTP, SSH, FTP)
**UDP** - —à–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç—ñ–π (DNS, streaming)
**ICMP** - –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (ping)
**ARP** - IP ‚Üí MAC
**DHCP** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ IP –∞–¥—Ä–µ—Å–∏
**DNS** - –¥–æ–º–µ–Ω–∏ ‚Üí IP

---

# 2. OSI –º–æ–¥–µ–ª—å / TCP –º–æ–¥–µ–ª—å

## 2.1 –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –º–æ–¥–µ–ª–µ–π

```
OSI (7 —Ä—ñ–≤–Ω—ñ–≤)          TCP/IP (4 —Ä—ñ–≤–Ω—ñ)
------------------      -----------------
7. Application          4. Application
6. Presentation         (HTTP, FTP, SSH)
5. Session              
------------------      -----------------
4. Transport            3. Transport
                        (TCP, UDP)
------------------      -----------------
3. Network              2. Internet
                        (IP, ICMP)
------------------      -----------------
2. Data Link            1. Network Access
1. Physical             (Ethernet, WiFi)
```

## 2.2 –†—ñ–≤–Ω—ñ OSI –¥–µ—Ç–∞–ª—å–Ω–æ

### –†—ñ–≤–µ–Ω—å 1: Physical
- –ë—ñ—Ç–∏ —á–µ—Ä–µ–∑ —Ñ—ñ–∑–∏—á–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
- –ö–∞–±–µ–ª—ñ, WiFi, —Ö–∞–±–∏
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: bandwidth, —Ä–æ–∑'—î–º–∏

### –†—ñ–≤–µ–Ω—å 2: Data Link
- –ù–∞–¥—ñ–π–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –º—ñ–∂ —Å—É—Å—ñ–¥–∞–º–∏
- **MAC –∞–¥—Ä–µ—Å–∏** (00:1A:2B:3C:4D:5E)
- **Switch** –ø—Ä–∞—Ü—é—î —Ç—É—Ç
- Ethernet —Ñ—Ä–µ–π–º–∏

```bash
ip link show  # –ü–æ–∫–∞–∑–∞—Ç–∏ MAC
```

### –†—ñ–≤–µ–Ω—å 3: Network
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –º–µ—Ä–µ–∂—ñ
- **IP –∞–¥—Ä–µ—Å–∏**
- **Router** –ø—Ä–∞—Ü—é—î —Ç—É—Ç
- –í–∏–∑–Ω–∞—á–∞—î —à–ª—è—Ö –ø–∞–∫–µ—Ç—ñ–≤

```bash
ip route show      # –¢–∞–±–ª–∏—Ü—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó
traceroute google.com
```

### –†—ñ–≤–µ–Ω—å 4: Transport
- –î–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å-–¥–æ-–ø—Ä–æ—Ü–µ—Å—É
- **–ü–æ—Ä—Ç–∏** (80, 443, 22)
- TCP (–Ω–∞–¥—ñ–π–Ω–∏–π) vs UDP (—à–≤–∏–¥–∫–∏–π)

**TCP three-way handshake:**
```
Client ‚Üí Server: SYN
Client ‚Üê Server: SYN-ACK
Client ‚Üí Server: ACK
```

```bash
netstat -an  # –ó'—î–¥–Ω–∞–Ω–Ω—è
ss -tuln     # Listening –ø–æ—Ä—Ç–∏
```

### –†—ñ–≤–µ–Ω—å 5: Session
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ–π
- Checkpoints
- –ú–µ–Ω—à –≤–∞–∂–ª–∏–≤–∏–π –≤ —Å—É—á–∞—Å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫–∞—Ö

### –†—ñ–≤–µ–Ω—å 6: Presentation
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è (SSL/TLS)
- –°—Ç–∏—Å–Ω–µ–Ω–Ω—è
- JPEG, PNG, ASCII

### –†—ñ–≤–µ–Ω—å 7: Application
- –í–∑–∞—î–º–æ–¥—ñ—è –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º
- HTTP, FTP, SSH, DNS, SMTP
- –ë—ñ–ª—å—à—ñ—Å—Ç—å DevOps —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç—É—Ç

## –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ —Ä—ñ–≤–Ω—è—Ö

```bash
# Layer 1-2: –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å
ip link show

# Layer 3: Ping
ping 8.8.8.8

# Layer 4: –ü–æ—Ä—Ç
nc -zv server.com 80

# Layer 7: HTTP
curl -I https://google.com
```

---

# 3. –†–æ–∑—É–º—ñ–Ω–Ω—è IP –ø—Ä–æ—Ç–æ–∫–æ–ª—É

## 3.1 IPv4 vs IPv6

**IPv4:**
- 32 –±—ñ—Ç–∏: 192.168.1.1
- ~4.3 –º—ñ–ª—å—è—Ä–¥–∞ –∞–¥—Ä–µ—Å
- –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—è
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î NAT

**IPv6:**
- 128 –±—ñ—Ç: 2001:0db8:85a3::8a2e:0370:7334
- ~340 —É–Ω–¥–µ—Ü–∏–ª—ñ–æ–Ω—ñ–≤ –∞–¥—Ä–µ—Å
- –°–ø—Ä–æ—â–µ–Ω–∏–π header
- –í–±—É–¥–æ–≤–∞–Ω–∞ –±–µ–∑–ø–µ–∫–∞

```bash
ping6 google.com
ip -6 addr show
```

## 3.2 –ü—É–±–ª—ñ—á–Ω—ñ vs –ü—Ä–∏–≤–∞—Ç–Ω—ñ IP

**–ü—Ä–∏–≤–∞—Ç–Ω—ñ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ (RFC 1918):**
```
10.0.0.0/8          (16M –∞–¥—Ä–µ—Å)
172.16.0.0/12       (1M –∞–¥—Ä–µ—Å)
192.168.0.0/16      (65K –∞–¥—Ä–µ—Å)
```

**–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ:**
- 127.0.0.1 - localhost
- 169.254.0.0/16 - link-local (APIPA)
- 0.0.0.0 - –±—É–¥—å-—è–∫–∞ –∞–¥—Ä–µ—Å–∞

**–î—ñ–∑–Ω–∞—Ç–∏—Å—å –ø—É–±–ª—ñ—á–Ω—É IP:**
```bash
curl ifconfig.me
curl ipinfo.io
```

### NAT (Network Address Translation)

–ë–∞–≥–∞—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö IP ‚Üí –æ–¥–Ω–∞ –ø—É–±–ª—ñ—á–Ω–∞ IP

```
–î—ñ–º: 192.168.1.10, 192.168.1.11
  ‚Üì
Router NAT: 203.0.113.42
  ‚Üì
–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç
```

**–¢–∏–ø–∏ NAT:**
- Static NAT (1:1)
- Dynamic NAT (–ø—É–ª –∞–¥—Ä–µ—Å)
- PAT/NAT Overload (–Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π)

## 3.3 CIDR —Ç–∞ Subnetting

**CIDR –Ω–æ—Ç–∞—Ü—ñ—è:** 192.168.1.0/24

**/24** = –º–∞—Å–∫–∞ 255.255.255.0 = 254 —Ö–æ—Å—Ç–∏

**–§–æ—Ä–º—É–ª–∞:**
```
–•–æ—Å—Ç—ñ–≤ = 2^(32 - prefix) - 2

/24: 2^8 - 2 = 254
/25: 2^7 - 2 = 126
/26: 2^6 - 2 = 62
```

**–¢–∞–±–ª–∏—Ü—è CIDR:**
```
/8   ‚Üí 16M —Ö–æ—Å—Ç—ñ–≤
/16  ‚Üí 65K —Ö–æ—Å—Ç—ñ–≤
/24  ‚Üí 254 —Ö–æ—Å—Ç–∏  ‚Üê —Ç–∏–ø–æ–≤–∞ –º–∞–ª–∞ –º–µ—Ä–µ–∂–∞
/25  ‚Üí 126 —Ö–æ—Å—Ç—ñ–≤
/26  ‚Üí 62 —Ö–æ—Å—Ç–∏
/27  ‚Üí 30 —Ö–æ—Å—Ç—ñ–≤
/30  ‚Üí 2 —Ö–æ—Å—Ç–∏ (point-to-point)
/32  ‚Üí 1 —Ö–æ—Å—Ç
```

**–ü—Ä–∏–∫–ª–∞–¥ –ø–æ–¥—ñ–ª—É /24:**
```
192.168.1.0/24 ‚Üí –ø–æ–¥—ñ–ª–∏—Ç–∏ –Ω–∞ 4

192.168.1.0/26   (1-62)
192.168.1.64/26  (65-126)
192.168.1.128/26 (129-190)
192.168.1.192/26 (193-254)
```

**–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**
```bash
ipcalc 192.168.1.0/24
```

---

# 4. –†–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤

## 4.1 –ù–∞–≤—ñ—â–æ –ø–æ—Ä—Ç–∏?

**–ü–æ—Ä—Ç** - 16-bit —á–∏—Å–ª–æ (0-65535) –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—É.

**–ê–Ω–∞–ª–æ–≥—ñ—è:**
- IP –∞–¥—Ä–µ—Å–∞ = –∞–¥—Ä–µ—Å–∞ –±—É–¥–∏–Ω–∫—É
- –ü–æ—Ä—Ç = –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è:**
```
192.168.1.10:50234 ‚Üí 142.250.185.46:443
(–≤–∞—à –∫–æ–º–ø)              (Google HTTPS)
```

## 4.2 Well-known ports (0-1023)

**–í–µ–±:**
```
20/21  - FTP
22     - SSH
23     - Telnet (–ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏!)
25     - SMTP
53     - DNS
80     - HTTP
110    - POP3
143    - IMAP
443    - HTTPS
```

**–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö:**
```
1433   - MS SQL Server
3306   - MySQL/MariaDB
5432   - PostgreSQL
6379   - Redis
27017  - MongoDB
```

**DevOps:**
```
2375/2376  - Docker
3000       - Grafana
5000       - Docker Registry
6443       - Kubernetes API
8080       - Jenkins
9090       - Prometheus
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ä—Ç—ñ–≤:**
```bash
# –õ–æ–∫–∞–ª—å–Ω—ñ
netstat -tuln
ss -tuln

# –í—ñ–¥–¥–∞–ª–µ–Ω—ñ
nc -zv google.com 80
nmap -p 80,443 google.com

# –Ø–∫–∏–π –ø—Ä–æ—Ü–µ—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç
lsof -i :80
```

## 4.3 Ephemeral ports (49152-65535)

–¢–∏–º—á–∞—Å–æ–≤—ñ –ø–æ—Ä—Ç–∏ –¥–ª—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –∑'—î–¥–Ω–∞–Ω—å.

**–î—ñ–∞–ø–∞–∑–æ–Ω:**
```bash
# Linux
cat /proc/sys/net/ipv4/ip_local_port_range
# 32768-60999

# –ó–º—ñ–Ω–∏—Ç–∏
echo "10000 65000" > /proc/sys/net/ipv4/ip_local_port_range
```

**–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—è –ø–æ—Ä—Ç—ñ–≤:**
```
–°–∏–º–ø—Ç–æ–º–∏: "Address already in use"
–ü—Ä–∏—á–∏–Ω–∏: –ë–∞–≥–∞—Ç–æ –∑'—î–¥–Ω–∞–Ω—å, TIME_WAIT

–†—ñ—à–µ–Ω–Ω—è:
sysctl -w net.ipv4.tcp_tw_reuse=1
sysctl -w net.ipv4.tcp_fin_timeout=30
```

---

# 5. –û—Å–Ω–æ–≤–∏ –º–µ—Ä–µ–∂–µ–≤–æ—ó –±–µ–∑–ø–µ–∫–∏

## 5.1 Firewalls

### iptables (Linux)

**–ë–∞–∑–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞:**
```bash
# –î–æ–∑–≤–æ–ª–∏—Ç–∏ SSH
iptables -A INPUT -p tcp --dport 22 -j ACCEPT

# –î–æ–∑–≤–æ–ª–∏—Ç–∏ HTTP/HTTPS
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT

# –î–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –≤—Å–µ —ñ–Ω—à–µ
iptables -A INPUT -j DROP

# Rate limiting (anti-DDoS)
iptables -A INPUT -p tcp --dport 80 -m limit --limit 25/minute -j ACCEPT
```

**–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:**
```bash
iptables -L -v -n           # –ü–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞
iptables -D INPUT 5         # –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–æ
iptables -F                 # –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ
iptables-save > rules.v4    # –ó–±–µ—Ä–µ–≥—Ç–∏
```

### UFW (Ubuntu)

```bash
ufw enable
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp
ufw allow from 192.168.1.0/24 to any port 3306
ufw status verbose
```

### firewalld (CentOS/RHEL)

```bash
firewall-cmd --zone=public --add-service=http --permanent
firewall-cmd --zone=public --add-port=8080/tcp --permanent
firewall-cmd --reload
firewall-cmd --list-all
```

## 5.2 –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è

### –°–∏–º–µ—Ç—Ä–∏—á–Ω–µ (AES)
–û–¥–∏–Ω –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.

```bash
# OpenSSL
openssl enc -aes-256-cbc -salt -in file.txt -out file.enc
openssl enc -aes-256-cbc -d -in file.enc -out file.txt
```

### –ê—Å–∏–º–µ—Ç—Ä–∏—á–Ω–µ (RSA, Ed25519)
–ü–∞—Ä–∞ –∫–ª—é—á—ñ–≤: –ø—É–±–ª—ñ—á–Ω–∏–π + –ø—Ä–∏–≤–∞—Ç–Ω–∏–π.

**SSH –∫–ª—é—á—ñ:**
```bash
# –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ (Ed25519 - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
ssh-keygen -t ed25519 -C "your_email@example.com"

# –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id user@server.com

# –ü—Ä–∞–≤–∞
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
chmod 600 ~/.ssh/id_ed25519
```

### SSL/TLS

**Let's Encrypt:**
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Certbot
apt install certbot python3-certbot-nginx

# –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
certbot --nginx -d example.com

# –û–Ω–æ–≤–∏—Ç–∏
certbot renew
```

**Nginx HTTPS:**
```nginx
server {
    listen 443 ssl http2;
    server_name example.com;

    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;
    ssl_protocols TLSv1.3 TLSv1.2;
    
    location / {
        proxy_pass http://localhost:8080;
    }
}
```

### VPN

**WireGuard:**
```bash
# –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–ª—é—á—ñ
wg genkey | tee privatekey | wg pubkey > publickey

# /etc/wireguard/wg0.conf
[Interface]
PrivateKey = SERVER_PRIVATE_KEY
Address = 10.0.0.1/24
ListenPort = 51820

[Peer]
PublicKey = CLIENT_PUBLIC_KEY
AllowedIPs = 10.0.0.2/32

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏
wg-quick up wg0
```

---

# 6. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

## 6.1 –ë–∞–∑–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### ping
```bash
ping google.com
ping -c 4 google.com       # 4 –ø–∞–∫–µ—Ç–∏
ping -s 1000 google.com    # –†–æ–∑–º—ñ—Ä –ø–∞–∫–µ—Ç–∞
```

### traceroute
```bash
traceroute google.com
traceroute -T -p 80 google.com  # TCP
```

### netstat / ss
```bash
# –ê–∫—Ç–∏–≤–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
netstat -tuln
ss -tuln

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
netstat -s
ss -s

# –ü—Ä–æ—Ü–µ—Å–∏
netstat -tulnp
ss -tulnp
```

### nmap
```bash
nmap 192.168.1.1           # Scan —Ö–æ—Å—Ç–∞
nmap 192.168.1.0/24        # Scan –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
nmap -p 80,443 192.168.1.1 # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ—Ä—Ç–∏
nmap -p- 192.168.1.1       # –í—Å—ñ –ø–æ—Ä—Ç–∏
nmap -sV 192.168.1.1       # –í–µ—Ä—Å—ñ—ó —Å–µ—Ä–≤—ñ—Å—ñ–≤
nmap -O 192.168.1.1        # –í–∏–∑–Ω–∞—á–∏—Ç–∏ –û–°
```

### tcpdump
```bash
tcpdump -i eth0
tcpdump -i eth0 -w capture.pcap
tcpdump -r capture.pcap
tcpdump -i eth0 port 80
tcpdump -i eth0 'tcp port 80 and host 192.168.1.10'
```

### nc (netcat)
```bash
nc -zv google.com 80       # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ä—Ç—É
nc -l 8080                 # TCP —Å–µ—Ä–≤–µ—Ä
nc server_ip 8080          # –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å

# –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª—É
nc -l 8080 > file.txt      # –û—Ç—Ä–∏–º—É–≤–∞—á
nc server_ip 8080 < file.txt  # –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫
```

### curl
```bash
curl https://api.example.com
curl -I https://google.com  # Headers
curl -v https://google.com  # Verbose
curl -X POST https://api.example.com/users \
  -H "Content-Type: application/json" \
  -d '{"name":"John"}'
```

### dig
```bash
dig google.com
dig google.com +short
dig @8.8.8.8 google.com
dig google.com MX
dig google.com AAAA
dig google.com +trace
```

## 6.2 –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### iftop (bandwidth)
```bash
iftop -i eth0
iftop -P -i eth0  # –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ—Ä—Ç–∏
```

### nethogs (–ø–æ –ø—Ä–æ—Ü–µ—Å–∞—Ö)
```bash
nethogs eth0
```

### iperf3 (—Ç–µ—Å—Ç bandwidth)
```bash
# –°–µ—Ä–≤–µ—Ä
iperf3 -s

# –ö–ª—ñ—î–Ω—Ç
iperf3 -c server_ip
iperf3 -c server_ip -u -b 100M  # UDP
```

### mtr (ping + traceroute)
```bash
mtr google.com
mtr --report google.com
```

## 6.3 Troubleshooting —Å—Ü–µ–Ω–∞—Ä—ñ—ó

**–°–∞–π—Ç –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è:**
```bash
dig example.com +short     # DNS –ø—Ä–∞—Ü—é—î?
ping example.com           # –î–æ—Å—Ç—É–ø–Ω–∏–π?
nc -zv example.com 80      # –ü–æ—Ä—Ç –≤—ñ–¥–∫—Ä–∏—Ç–∏–π?
curl -I https://example.com
```

**–ü–æ–≤—ñ–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞:**
```bash
ping -c 100 google.com     # Latency?
mtr --report google.com    # Packet loss?
nethogs eth0               # –•—Ç–æ —Å–ø–æ–∂–∏–≤–∞—î?
```

**–ù–µ –º–æ–∂—É –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å:**
```bash
ping server_ip             # –î–æ—Å—Ç—É–ø–Ω–∏–π?
nc -zv server_ip 22        # –ü–æ—Ä—Ç –≤—ñ–¥–∫—Ä–∏—Ç–∏–π?
iptables -L -v -n          # Firewall –±–ª–æ–∫—É—î?
systemctl status sshd      # –°–µ—Ä–≤—ñ—Å –ø—Ä–∞—Ü—é—î?
```

---

# 7. –ë–µ–∑–ø–µ—á–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö –º—ñ–∂ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

## 7.1 SSH

**–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:**
```bash
ssh user@server.com
ssh -p 2222 user@server.com
ssh -i ~/.ssh/id_rsa user@server.com
ssh -v user@server.com  # Debug
```

**SSH config (~/.ssh/config):**
```
Host myserver
    HostName server.example.com
    User deploy
    Port 2222
    IdentityFile ~/.ssh/id_rsa_deploy

Host internal
    HostName 10.0.1.10
    ProxyJump bastion.com
```

**SSH —Ç—É–Ω–µ–ª—ñ:**
```bash
# Local port forwarding
ssh -L 8080:localhost:80 user@server.com
# localhost:8080 ‚Üí server:80

# Remote port forwarding
ssh -R 8080:localhost:80 user@server.com
# server:8080 ‚Üí local:80

# SOCKS proxy
ssh -D 8080 user@server.com
```

## 7.2 SCP

```bash
scp file.txt user@server:/path/
scp user@server:/path/file.txt .
scp -r directory/ user@server:/path/
scp -P 2222 file.txt user@server:/path/
```

## 7.3 SFTP

```bash
sftp user@server.com

# –ö–æ–º–∞–Ω–¥–∏:
ls, cd, pwd        # –°–µ—Ä–≤–µ—Ä
lls, lcd, lpwd     # –õ–æ–∫–∞–ª—å–Ω–æ
get file.txt       # –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏
put file.txt       # –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏
```

## 7.4 rsync

```bash
# –ë–∞–∑–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
rsync -avz /local/ user@server:/remote/

# –ó –ø—Ä–æ–≥—Ä–µ—Å–æ–º
rsync -avzP /local/ user@server:/remote/

# –í–∏–¥–∞–ª—è—Ç–∏ –Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ
rsync -avz --delete /local/ user@server:/remote/

# –í–∏–∫–ª—é—á–∏—Ç–∏ —Ñ–∞–π–ª–∏
rsync -avz --exclude '*.log' /local/ user@server:/remote/

# –ß–µ—Ä–µ–∑ SSH –ø–æ—Ä—Ç
rsync -avz -e "ssh -p 2222" /local/ user@server:/remote/
```

---

# 8. DNS

## 8.1 –†–æ–∑—É–º—ñ–Ω–Ω—è DNS

**DNS** - –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –¥–æ–º–µ–Ω–∏ (google.com) –≤ IP (142.250.185.46).

**–Ü—î—Ä–∞—Ä—Ö—ñ—è:**
```
. (Root)
  ‚Üì
.com
  ‚Üì
google.com
  ‚Üì
www.google.com
```

**DNS lookup –ø—Ä–æ—Ü–µ—Å:**
```
1. –ë—Ä–∞—É–∑–µ—Ä ‚Üí Local cache
2. OS ‚Üí Recursive resolver (8.8.8.8)
3. Recursive ‚Üí Root servers
4. Recursive ‚Üí TLD servers (.com)
5. Recursive ‚Üí Authoritative DNS (ns1.google.com)
6. –í—ñ–¥–ø–æ–≤—ñ–¥—å: google.com = 142.250.185.46
```

## 8.2 –û—Å–Ω–æ–≤–Ω—ñ DNS records

### A Record
–î–æ–º–µ–Ω ‚Üí IPv4
```
example.com.  IN  A  203.0.113.10
```

### AAAA Record
–î–æ–º–µ–Ω ‚Üí IPv6
```
example.com.  IN  AAAA  2001:0db8::1
```

### CNAME Record
Alias –¥–ª—è –¥–æ–º–µ–Ω—É
```
www.example.com.  IN  CNAME  example.com.
```

### MX Record
Mail —Å–µ—Ä–≤–µ—Ä–∏
```
example.com.  IN  MX  10  mail.example.com.
```

### TXT Record
–î–æ–≤—ñ–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç
```
example.com.  IN  TXT  "v=spf1 include:_spf.google.com ~all"
```

### NS Record
Name servers
```
example.com.  IN  NS  ns1.example.com.
```

## 8.3 DevOps use cases

**Service Discovery:**
```
myservice.default.svc.cluster.local
```

**Load Balancing:**
```
example.com.  IN  A  203.0.113.1
example.com.  IN  A  203.0.113.2
example.com.  IN  A  203.0.113.3
```

**Blue-Green Deployments:**
```
www.example.com.  IN  CNAME  blue.example.com.
# Switch to:
www.example.com.  IN  CNAME  green.example.com.
```

**Internal DNS:**
```
db-master.internal  ‚Üí 10.0.1.10
cache.internal      ‚Üí 10.0.2.20
```

---

# 9. HTTP –ø–æ–≥–ª–∏–±–ª–µ–Ω–µ –≤–∏–≤—á–µ–Ω–Ω—è

## 9.1 HTTP Methods

### GET - –ß–∏—Ç–∞–Ω–Ω—è
```bash
curl -X GET "https://api.example.com/users?page=1"
```
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: –±–µ–∑–ø–µ—á–Ω–∏–π, —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π, –∫–µ—à—É—î—Ç—å—Å—è

### POST - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è
```bash
curl -X POST https://api.example.com/users \
  -H "Content-Type: application/json" \
  -d '{"name":"John"}'
```
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: –Ω–µ –±–µ–∑–ø–µ—á–Ω–∏–π, –Ω–µ —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π

### PUT - –ü–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
curl -X PUT https://api.example.com/users/123 \
  -d '{"name":"John Updated"}'
```
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π, –ø–æ–≤–Ω–∞ –∑–∞–º—ñ–Ω–∞

### PATCH - –ß–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
curl -X PATCH https://api.example.com/users/123 \
  -d '{"name":"John"}'
```
–û–Ω–æ–≤–ª—é—î —Ç—ñ–ª—å–∫–∏ –≤–∫–∞–∑–∞–Ω—ñ –ø–æ–ª—è

### DELETE - –í–∏–¥–∞–ª–µ–Ω–Ω—è
```bash
curl -X DELETE https://api.example.com/users/123
```
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∏–π

## 9.2 Response Codes

**2xx - Success:**
- 200 OK
- 201 Created
- 204 No Content

**3xx - Redirection:**
- 301 Moved Permanently
- 302 Found
- 304 Not Modified

**4xx - Client Error:**
- 400 Bad Request
- 401 Unauthorized
- 403 Forbidden
- 404 Not Found
- 429 Too Many Requests

**5xx - Server Error:**
- 500 Internal Server Error
- 502 Bad Gateway
- 503 Service Unavailable
- 504 Gateway Timeout

## 9.3 Authentication

### Basic Auth
```bash
curl -u user:password https://api.example.com
```

### Bearer Token (JWT)
```bash
curl -H "Authorization: Bearer TOKEN" https://api.example.com
```

### API Keys
```bash
curl -H "X-API-Key: abc123" https://api.example.com
```

## 9.4 REST API

**RESTful URLs:**
```
GET    /api/users           # –°–ø–∏—Å–æ–∫
GET    /api/users/123       # –û–¥–∏–Ω
POST   /api/users           # –°—Ç–≤–æ—Ä–∏—Ç–∏
PUT    /api/users/123       # –û–Ω–æ–≤–∏—Ç–∏
DELETE /api/users/123       # –í–∏–¥–∞–ª–∏—Ç–∏
```

**Response format:**
```json
{
  "data": [...],
  "meta": {
    "total": 100,
    "page": 1,
    "per_page": 20
  },
  "links": {
    "next": "/api/users?page=2"
  }
}
```

## 9.5 HTTPS

**Port:** 443

**TLS Handshake:**
```
1. Client ‚Üí Server: ClientHello
2. Server ‚Üí Client: Certificate
3. Client –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
4. –û–±–º—ñ–Ω –∫–ª—é—á–∞–º–∏
5. –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è
```

**Security Headers:**
```
Strict-Transport-Security: max-age=31536000
Content-Security-Policy: default-src 'self'
X-Frame-Options: DENY
```

---

# –ó–∞–∫–ª—é—á–µ–Ω–Ω—è

## –ö–ª—é—á–æ–≤—ñ Takeaways

1. **OSI/TCP –º–æ–¥–µ–ª—ñ** - –æ—Å–Ω–æ–≤–∞ troubleshooting
2. **IP —Ç–∞ subnetting** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è cloud
3. **Ports** - —Ä–æ–∑—É–º—ñ—Ç–∏ well-known —Ç–∞ ephemeral
4. **Firewall** - –±–µ–∑–ø–µ–∫–∞ –Ω–µ optional
5. **SSH** - –±–µ–∑–ø–µ—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
6. **DNS** - service discovery –≤ DevOps
7. **HTTP/HTTPS** - –æ—Å–Ω–æ–≤–∞ API —Ç–∞ –≤–µ–±-—Å–µ—Ä–≤—ñ—Å—ñ–≤

## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏

```bash
# –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –æ–¥–Ω–æ–º—É —Å–∫—Ä–∏–ø—Ç—ñ
ping -c 3 $HOST
traceroute $HOST
dig $HOST +short
nc -zv $HOST 80
curl -I https://$HOST
```

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –≤–ª–∞—Å–Ω–∏–π DNS
- –°—Ç–≤–æ—Ä—ñ—Ç—å VPN –º—ñ–∂ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å API –∑ TLS
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ä–µ–∂—ñ
- –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ troubleshooting

## –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

- https://www.cloudflare.com/learning/
- https://www.digitalocean.com/community/tutorials
- https://wiki.archlinux.org/title/Network_configuration

---

**–ù–∞–ø–∏—Å–∞–Ω–æ –¥–ª—è DevOps —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤. –ü—Ä–∞–∫—Ç–∏—á–Ω–æ. –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.** üöÄ

---

**–í–µ—Ä—Å—ñ—è:** 1.0.1  
**–î–∞—Ç–∞:** 2025  
**–ê–≤—Ç–æ—Ä:** Nestor Yakymets 
